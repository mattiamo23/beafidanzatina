@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Quicksand', ui-sans-serif, system-ui, sans-serif;
  }
}

@layer components {
  /* Glass Card Effect */
  .glass-card {
    @apply bg-white/80 backdrop-blur-md shadow-2xl border border-white/40;
  }

  /* Buttons */
  .btn-primary {
    @apply bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 
           text-gray-900 font-bold px-6 py-3 rounded-xl shadow-lg 
           hover:scale-105 active:scale-95 transition-all duration-200
           border-2 border-yellow-600
           min-h-[48px] touch-manipulation;
  }

  .btn-secondary {
    @apply bg-white hover:bg-gray-50 text-gray-700 font-semibold px-6 py-3 rounded-xl 
           shadow hover:shadow-lg transition-all duration-200 border-2 border-gray-300
           min-h-[48px] touch-manipulation;
  }

  .btn-danger {
    @apply bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 
           text-white font-bold px-6 py-3 rounded-xl shadow-lg 
           hover:scale-105 active:scale-95 transition-all duration-200
           min-h-[48px] touch-manipulation;
  }

  .trick-btn {
    @apply glass-card p-6 rounded-2xl flex flex-col items-center justify-center
           hover:scale-105 hover:shadow-xl transition-all duration-200 cursor-pointer
           hover:bg-yellow-100/50 active:scale-95
           min-h-[100px] touch-manipulation;
  }

  .skincare-btn {
    @apply w-full bg-gradient-to-r from-pink-200 to-purple-200 hover:from-pink-300 hover:to-purple-300
           text-purple-900 font-semibold px-4 py-3 rounded-lg shadow
           hover:scale-105 active:scale-95 transition-all duration-200 text-left
           min-h-[52px] touch-manipulation;
  }

  .fun-btn {
    @apply glass-card p-6 rounded-2xl flex flex-col items-center justify-center
           hover:scale-110 hover:shadow-2xl transition-all duration-200 cursor-pointer
           hover:rotate-3 active:scale-95
           min-h-[120px] touch-manipulation;
  }

  .mel-placeholder {
    @apply text-6xl sm:text-7xl md:text-9xl absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
           animate-pulse;
  }
}

/* Mobile optimizations */
@media (max-width: 640px) {
  html {
    scroll-behavior: smooth;
  }
  
  /* Prevent zoom on input focus on iOS */
  input, select, textarea {
    font-size: 16px !important;
  }
}

@layer utilities {
  /* Aerial Silk Animations */
  .aerial-silk {
    position: absolute;
    width: 60px;
    height: 600px;
    background: linear-gradient(180deg, 
      rgba(252, 211, 77, 0.3) 0%, 
      rgba(251, 191, 36, 0.4) 50%, 
      rgba(245, 158, 11, 0.3) 100%
    );
    border-radius: 30px;
    filter: blur(1px);
    animation: sway 6s ease-in-out infinite;
    display: none;
  }

  @media (min-width: 768px) {
    .aerial-silk {
      display: block;
    }
  }

  .silk-1 {
    top: -100px;
    left: 10%;
    animation-delay: 0s;
  }

  .silk-2 {
    top: -100px;
    left: 50%;
    animation-delay: 2s;
  }

  .silk-3 {
    top: -100px;
    right: 10%;
    animation-delay: 4s;
  }

  @keyframes sway {
    0%, 100% { transform: translateX(0) rotate(0deg); }
    25% { transform: translateX(30px) rotate(5deg); }
    75% { transform: translateX(-30px) rotate(-5deg); }
  }

  /* Bounce Animations */
  .animate-bounce-slow {
    animation: bounce-slow 3s ease-in-out infinite;
  }

  @keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .animate-wiggle {
    animation: wiggle 1s ease-in-out infinite;
  }

  @keyframes wiggle {
    0%, 100% { transform: rotate(-5deg); }
    50% { transform: rotate(5deg); }
  }

  /* Floating Animation */
  .float-animation {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  /* Particle Effects */
  .particle {
    position: absolute;
    pointer-events: none;
    animation: particle-fall 2s ease-out forwards;
  }

  @keyframes particle-fall {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(600px) rotate(720deg);
      opacity: 0;
    }
  }

  /* Confetti */
  .confetti-piece {
    position: absolute;
    width: 10px;
    height: 10px;
    animation: confetti-fall 3s ease-out forwards;
  }

  @keyframes confetti-fall {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  /* Star Animations */
  .star {
    position: absolute;
    font-size: 1.75rem;
    cursor: pointer;
    transition: transform 0.2s;
    animation: star-twinkle 2s ease-in-out infinite;
    touch-action: none;
    user-select: none;
  }

  @media (min-width: 640px) {
    .star {
      font-size: 2rem;
    }
  }

  .star:hover, .star:active {
    transform: scale(1.3) rotate(20deg);
  }

  @keyframes star-twinkle {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.1); }
  }

  /* Floating Cat */
  .floating-cat {
    position: absolute;
    font-size: 2rem;
    animation: float-cat 5s ease-in-out infinite;
    pointer-events: none;
  }

  @media (min-width: 640px) {
    .floating-cat {
      font-size: 3rem;
    }
  }

  @keyframes float-cat {
    0%, 100% { 
      transform: translateY(0) rotate(0deg); 
    }
    25% { 
      transform: translateY(-30px) rotate(5deg); 
    }
    75% { 
      transform: translateY(-15px) rotate(-5deg); 
    }
  }

  /* Rainbow Background */
  @keyframes rainbow {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(360deg); }
  }

  .rainbow-mode {
    animation: rainbow 3s linear infinite;
  }

  /* Pulse Glow */
  .pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 20px rgba(252, 211, 77, 0.5);
    }
    50% {
      box-shadow: 0 0 40px rgba(252, 211, 77, 0.8);
    }
  }

  /* Mario Player */
  #mario-player {
    transition: left 0.05s, bottom 0.05s;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
  }

  /* Shake Animation */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
  }

  .shake {
    animation: shake 0.5s ease-in-out;
  }
}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

/* responsive tweaks */
@media (max-width: 640px){
  #phrase{font-size:1rem}
}

/* Game styles */
#game-area{min-height:10rem}
#game-area img#cat-sprite{transition:left 220ms ease, top 220ms ease, transform 220ms ease}
#game-area .hit{transform:scale(1.12)}
#game-area .touch-none{touch-action:none}
#game-start[disabled]{opacity:0.7; transform:translateY(0); cursor:default}

/* make cat bigger on small screens for easier touch */
@media (max-width:420px){
  #cat-sprite{width:72px; height:72px}
}

/* small visual pop for hit */
@keyframes catPop{0%{transform:scale(1)}40%{transform:scale(1.22)}100%{transform:scale(1)}}
.cat-pop{animation:catPop 300ms ease-out}

