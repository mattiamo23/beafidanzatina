(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const z=["Sei il mio raggio di sole â˜€ï¸","Con te ogni giorno Ã¨ una festa ðŸŽ‰","Bea, il tuo sorriso vale piÃ¹ di mille stelle âœ¨","Sei la mia canzone preferita ðŸŽ¶","Il mio posto felice Ã¨ accanto a te ðŸ’›","Ogni tuo messaggio Ã¨ un piccolo tesoro ðŸ’Œ","Sii sempre te stessa, sei perfetta cosÃ¬ ðŸŒ¼"],F=["https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=3d3b64f6c1f9cd5ef4b6d7a2fc4c9b66","https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7f69b3b5d131b8d5f9c4f6aaa30f2a9d","https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7a8f5c0d3e9d6b2be4d1f2f6d3a2b4c5"],l=document.getElementById("phrase"),p=document.getElementById("magic-btn"),P=document.getElementById("random-btn"),$=document.querySelector("#sweet-meter > div"),K=document.getElementById("color-btn"),J=document.getElementById("emoji-btn"),Q=document.getElementById("confetti-btn"),U=document.getElementById("compliment-btn"),g=document.getElementById("modal"),V=document.getElementById("modal-img"),Z=document.getElementById("modal-yes");g.querySelector("button[aria-hidden]");const R=document.getElementById("modal-no");let E=40;function q(){return z[Math.floor(Math.random()*z.length)]}function c(e){l.classList.remove("opacity-0"),l.style.opacity=0,l.textContent=e,l.animate([{opacity:0,transform:"translateY(6px)"},{opacity:1,transform:"translateY(0)"}],{duration:360,easing:"ease-out"})}function x(){$.style.width=Math.min(100,E)+"%"}p.addEventListener("click",()=>{const e=q();c(e),E+=8+Math.floor(Math.random()*8),x(),p.classList.add("pulse-once");const n=p.getBoundingClientRect(),t=document.createElement("img");t.src="/assets/cat.svg",t.alt="Gatto magico",t.className="magic-cat-effect",t.style.position="fixed",t.style.left=n.left+n.width/2-32+"px",t.style.top=n.top-48+"px",t.style.width="64px",t.style.height="64px",t.style.pointerEvents="none",document.body.appendChild(t),setTimeout(()=>{t.classList.add("jump"),setTimeout(()=>t.remove(),1200)},30),setTimeout(()=>p.classList.remove("pulse-once"),600),Math.random()<.16&&O()});P.addEventListener("click",()=>{const e=Math.random()<.6?q():"Ti penso sempre ðŸ’­";c(e),E+=4,x();const n=P.getBoundingClientRect(),t=document.createElement("img");t.src="/assets/mario.svg",t.alt="Mario Sorpresa",t.className="magic-mario-effect",t.style.position="fixed",t.style.left=n.left+n.width/2-48+"px",t.style.top=n.top-64+"px",t.style.width="96px",t.style.height="96px",t.style.pointerEvents="none",t.style.opacity="1",document.body.appendChild(t),setTimeout(()=>{t.classList.add("jump"),setTimeout(()=>t.remove(),1800)},30),l.classList.remove("opacity-0"),l.style.transition="opacity 0.7s",setTimeout(()=>{l.style.opacity=0},4e3),Math.random()<.22&&O()});K.addEventListener("click",()=>{const e=document.body,n=["bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-200 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-100 via-yellow-200 to-yellow-100","bg-gradient-to-b from-yellow-50 via-yellow-300 to-yellow-100","bg-gradient-to-b from-yellow-100 via-yellow-300 to-yellow-200","bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-200"];let t=n.findIndex(o=>e.className.includes(o.split(" ")[1]));t===-1&&(t=0);const r=(t+1)%n.length;e.className=n[r]+" text-slate-800"});J.addEventListener("click",()=>{Y("â­",4200,"4.5rem"),setTimeout(()=>{Y("â¤ï¸",3200,"3.2rem",!0)},1200)});U.addEventListener("click",()=>{c("Sei incredibile, non dimenticarlo ðŸ’Œ"),E+=6,x(),l.classList.remove("opacity-0"),l.style.transition="opacity 0.7s",setTimeout(()=>{l.style.opacity=0},3200)});function Y(e,n=2600,t="2.5rem",r=!1){const o=document.createElement("div");o.textContent=e,o.className="emoji-pop",o.style.fontSize=t,o.style.left=20+Math.random()*60+"%",o.style.bottom="20px",r?(o.style.opacity="0",o.animate([{opacity:0,transform:"translateY(0) scale(1.2)"},{opacity:1,transform:"translateY(-40px) scale(1.3)"},{opacity:0,transform:"translateY(-120px) scale(1.1)"}],{duration:n,easing:"ease-in-out"}),setTimeout(()=>o.remove(),n)):(document.body.appendChild(o),setTimeout(()=>o.remove(),n))}function O(){const e=F[Math.floor(Math.random()*F.length)];V.src=e,g.style.display="flex",g.setAttribute("aria-hidden","false")}function T(){g.style.display="none",g.setAttribute("aria-hidden","true")}g.addEventListener("click",e=>{e.target===g&&T()});Z.addEventListener("click",()=>{c("Scegli bene: i gatti vincono sempre ðŸ˜»"),E+=5,x(),T()});R&&R.addEventListener("click",()=>{c("Eh giÃ ... la Mel ha la sua bellezza speciale ðŸ˜…"),T()});const f=document.getElementById("confetti-canvas"),d=f.getContext("2d");let I=[];function j(){f.width=window.innerWidth,f.height=window.innerHeight}window.addEventListener("resize",j);j();Q.addEventListener("click",()=>{G(80)});function G(e=60){const n=["#FFD95A","#F7C248","#F6B200","#FFD6A6","#FFF3CC"];for(let t=0;t<e;t++)I.push({x:Math.random()*f.width,y:-10-Math.random()*200,size:6+Math.random()*8,speedX:-2+Math.random()*4,speedY:2+Math.random()*5,rotation:Math.random()*360,color:n[Math.floor(Math.random()*n.length)],tilt:Math.random()*20});C||H()}let C=!1;function H(){C=!0,d.clearRect(0,0,f.width,f.height),I.forEach((e,n)=>{e.x+=e.speedX,e.y+=e.speedY,e.rotation+=e.speedX,d.save(),d.translate(e.x,e.y),d.rotate(e.rotation*Math.PI/180),d.fillStyle=e.color,d.fillRect(-e.size/2,-e.size/2,e.size,e.size*.6),d.restore(),e.y>f.height+20&&I.splice(n,1)}),I.length>0?requestAnimationFrame(H):C=!1}x();p.addEventListener("keydown",e=>{e.key==="Enter"&&p.click()});window.addEventListener("load",()=>{c("Benvenuta, Bea! Premi un pulsante ðŸ’›")});const S=document.getElementById("game-area"),a=document.getElementById("cat-sprite"),A=["/assets/cat.svg","/assets/yoshi.svg"],y=document.getElementById("game-start"),_=document.getElementById("game-reset"),M=document.getElementById("game-timer"),B=document.getElementById("game-score"),h=document.getElementById("game-best");let b=null,u=null,L=900;const k=20;let m=k,i=0;function N(e){return Number(e)||0}const ee=N(localStorage.getItem("bea_cat_best"));h&&(h.textContent=ee);function w(){if(!S||!a)return;const e=A[Math.floor(Math.random()*A.length)];a.src=e,a.alt=e.includes("yoshi")?"Yoshi":"Gatto realistico";const n=S.getBoundingClientRect(),t=a.offsetWidth||64,r=a.offsetHeight||64,o=8,s=Math.max(0,n.width-t-o),v=Math.max(0,n.height-r-o),W=Math.round(Math.random()*s)+o,X=Math.round(Math.random()*v)+o;a.style.left=W+"px",a.style.top=X+"px",a.style.transform=`scale(1) rotate(${Math.random()*20-10}deg)`}function te(e){e.preventDefault(),b&&(i++,B.textContent=i,a.classList.add("cat-pop"),setTimeout(()=>a.classList.remove("cat-pop"),320),w(),L=Math.max(350,900-i*20),u&&clearInterval(u),u=setInterval(w,L),G(14))}function oe(){!S||!a||(D(),a.style.display="block",w(),y.disabled=!0,i=0,B.textContent=i,m=k,M.textContent=m,L=900,u=setInterval(w,L),b=setInterval(()=>{m--,M.textContent=m,m<=0&&ne()},1e3))}function ne(){clearInterval(b),clearInterval(u),u=null,b=null,a.style.display="none",y.disabled=!1;const e=N(localStorage.getItem("bea_cat_best"));i>e?(localStorage.setItem("bea_cat_best",i),h&&(h.textContent=i),c(`Nuovo record: ${i} ðŸ˜»`)):c(`Tempo! Hai fatto ${i} punti ðŸ’›`)}function D(){clearInterval(b),clearInterval(u),a&&(a.style.display="none"),y&&(y.disabled=!1),i=0,B&&(B.textContent=0),m=k,M&&(M.textContent=m);const e=N(localStorage.getItem("bea_cat_best"));h&&(h.textContent=e)}y&&y.addEventListener("click",oe);_&&_.addEventListener("click",D);a&&a.addEventListener("pointerdown",te);window.addEventListener("orientationchange",()=>{b&&w()});
