(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();let O=0,q=0,C=0,Y=0,x=0,h=30,B=!1,W=null;const p=["ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ˜¿","ðŸ˜¾","ðŸ±","ðŸˆ"];function c(t,n,e,a=null){const o=document.createElement("div");o.textContent=e,o.className="particle",o.style.left=t+"px",o.style.top=n+"px",o.style.fontSize=Math.random()*15+15+"px",a&&(o.style.color=a),o.style.willChange="transform, opacity",document.getElementById("particles").appendChild(o),setTimeout(()=>o.remove(),2e3)}function u(t,n){const e=["#FCD34D","#FCA5A5","#A78BFA","#6EE7B7","#F472B6","#FB923C"],o=window.innerWidth<640?15:30;for(let i=0;i<o;i++)setTimeout(()=>{const l=document.createElement("div");l.className="confetti-piece",l.style.left=t+(Math.random()-.5)*100+"px",l.style.top=n+"px",l.style.backgroundColor=e[Math.floor(Math.random()*e.length)],l.style.animationDelay=Math.random()*.5+"s",l.style.willChange="transform, opacity",document.getElementById("particles").appendChild(l),setTimeout(()=>l.remove(),3e3)},i*20)}function b(t=50){"vibrate"in navigator&&navigator.vibrate(t)}var X;(X=document.getElementById("mel-btn"))==null||X.addEventListener("click",function(t){O++,document.querySelector("#mel-counter span").textContent=O,b();const n=document.createElement("div");n.className="floating-cat",n.textContent=p[Math.floor(Math.random()*p.length)],n.style.left=Math.random()*window.innerWidth+"px",n.style.top=Math.random()*300+"px",document.getElementById("floating-cats").appendChild(n),setTimeout(()=>n.remove(),5e3);const e=t.target.getBoundingClientRect();c(e.left+e.width/2,e.top,"âœ¨","#FCD34D"),c(e.left+e.width/2,e.top,"ðŸ±","#F59E0B")});document.querySelectorAll(".trick-btn").forEach(t=>{t.addEventListener("click",function(){q++,document.getElementById("tricks-score").textContent=q,b();const n=this.dataset.trick;this.classList.add("pulse-glow"),setTimeout(()=>this.classList.remove("pulse-glow"),600);const e=this.getBoundingClientRect();c(e.left+e.width/2,e.top,"â­","#FCD34D"),c(e.left+e.width/2,e.top,"âœ¨","#F59E0B");const a={Inversion:"ðŸ¤¸â€â™€ï¸",Drop:"ðŸŽª",Splits:"â­"},o=document.createElement("div");o.textContent=a[n],o.className="particle",o.style.left=e.left+e.width/2+"px",o.style.top=e.top+"px",o.style.fontSize="60px",document.getElementById("particles").appendChild(o),setTimeout(()=>o.remove(),2e3)})});let I=[];function ut(){const t={id:Math.random(),x:Math.random()*90+5,y:Math.random()*80+10,collected:!1};I.push(t);const n=document.createElement("div");return n.className="star",n.textContent="â­",n.dataset.starId=t.id,n.style.left=t.x+"%",n.style.top=t.y+"%",n.addEventListener("click",()=>at(t.id)),document.getElementById("stars-container").appendChild(n),n}function at(t){var e;const n=I.find(a=>a.id===t);!n||n.collected||(n.collected=!0,x++,b(20),(e=document.querySelector(`[data-star-id="${t}"]`))==null||e.remove(),document.getElementById("star-count").textContent=`${x} / 10`,c(window.innerWidth/2,window.innerHeight/2,"âœ¨","#FCD34D"),x>=10&&it(!0))}function ft(){if(!B){B=!0,x=0,h=30,I=[],document.getElementById("star-count").textContent="0 / 10",document.getElementById("game-timer").textContent=h,document.getElementById("stars-container").innerHTML="";for(let t=0;t<10;t++)ut();W=setInterval(()=>{h--,document.getElementById("game-timer").textContent=h,h<=0&&it(!1)},1e3)}}function it(t){B=!1,clearInterval(W),t?(alert("ðŸŽ‰ HAI VINTO! Tutte le stelle raccolte! Sei una campionessa! ðŸŒŸ"),u(window.innerWidth/2,window.innerHeight/2)):alert("â° Tempo scaduto! Riprova! ðŸŽ®")}function gt(){B=!1,clearInterval(W),x=0,h=30,I=[],document.getElementById("star-count").textContent="0 / 10",document.getElementById("game-timer").textContent="30",document.getElementById("stars-container").innerHTML=""}let L=!1;var K;(K=document.getElementById("mario-player"))==null||K.addEventListener("mousedown",()=>{L=!0});document.addEventListener("mouseup",()=>{L=!1});var Q;(Q=document.getElementById("mario-player"))==null||Q.addEventListener("touchstart",t=>{t.preventDefault(),L=!0},{passive:!1});document.addEventListener("touchend",()=>{L=!1});function lt(t,n){if(!L||!B)return;const a=document.getElementById("mario-canvas").getBoundingClientRect(),o=t-a.left,i=n-a.top,l=document.getElementById("mario-player");l.style.left=o+"px",l.style.bottom=a.height-i+"px",I.forEach(w=>{if(w.collected)return;const T=document.querySelector(`[data-star-id="${w.id}"]`);if(!T)return;const S=T.getBoundingClientRect(),k=l.getBoundingClientRect();k.left<S.right&&k.right>S.left&&k.top<S.bottom&&k.bottom>S.top&&at(w.id)})}var U;(U=document.getElementById("mario-canvas"))==null||U.addEventListener("mousemove",t=>{lt(t.clientX,t.clientY)});var V;(V=document.getElementById("mario-canvas"))==null||V.addEventListener("touchmove",t=>{t.preventDefault(),t.touches.length>0&&lt(t.touches[0].clientX,t.touches[0].clientY)},{passive:!1});var J;(J=document.getElementById("start-game"))==null||J.addEventListener("click",ft);var Z;(Z=document.getElementById("reset-game"))==null||Z.addEventListener("click",gt);var tt;(tt=document.getElementById("ban-tuna-btn"))==null||tt.addEventListener("click",function(t){Y++,document.querySelector("#tuna-banned span").textContent=Y,b(100),this.classList.add("shake"),setTimeout(()=>this.classList.remove("shake"),500);const n=t.target.getBoundingClientRect();for(let e=0;e<15;e++)setTimeout(()=>{c(n.left+n.width/2,n.top+n.height/2,["ðŸš«","âœ¨","ðŸ’¥","âš¡"][Math.floor(Math.random()*4)],"#EF4444")},e*50)});document.querySelectorAll(".skincare-btn").forEach(t=>{t.addEventListener("click",function(){C=Math.min(C+25,100),b(30),document.getElementById("glow-meter").style.width=C+"%",document.getElementById("glow-percentage").textContent=C+"%";const n=this.getBoundingClientRect();c(n.left+n.width/2,n.top,"âœ¨","#A855F7"),c(n.left+n.width/2,n.top,"ðŸ’Ž","#EC4899"),C>=100&&setTimeout(()=>{alert("ðŸ’« GLOW MASSIMO RAGGIUNTO! Sei letteralmente luminosa! âœ¨"),u(window.innerWidth/2,200)},300)})});var et;(et=document.getElementById("confetti-btn"))==null||et.addEventListener("click",function(t){const n=t.target.getBoundingClientRect();u(n.left+n.width/2,n.top),setTimeout(()=>u(Math.random()*window.innerWidth,100),300),setTimeout(()=>u(Math.random()*window.innerWidth,100),600),setTimeout(()=>u(Math.random()*window.innerWidth,100),900)});var nt;(nt=document.getElementById("rainbow-btn"))==null||nt.addEventListener("click",function(){document.body.classList.toggle("rainbow-mode"),setTimeout(()=>{document.body.classList.remove("rainbow-mode")},5e3)});var ot;(ot=document.getElementById("party-btn"))==null||ot.addEventListener("click",function(){const n=window.innerWidth<640?5:10;for(let e=0;e<n;e++)setTimeout(()=>{const a=document.createElement("div");a.className="floating-cat",a.textContent=p[Math.floor(Math.random()*p.length)],a.style.left=Math.random()*window.innerWidth+"px",a.style.top=Math.random()*window.innerHeight+"px",document.getElementById("floating-cats").appendChild(a),setTimeout(()=>a.remove(),5e3)},e*200);for(let e=0;e<5;e++)setTimeout(()=>{u(Math.random()*window.innerWidth,Math.random()*300)},e*300)});setInterval(()=>{const t=document.createElement("div");t.className="floating-cat",t.textContent=p[Math.floor(Math.random()*p.length)],t.style.left=Math.random()*window.innerWidth+"px",t.style.top=Math.random()*200+"px",t.style.opacity="0.6",document.getElementById("floating-cats").appendChild(t),setTimeout(()=>t.remove(),5e3)},1e4);console.log("%cðŸ’› Ciao! Hai trovato la console! ðŸ±","font-size: 20px; color: #FCD34D; font-weight: bold;");console.log("%cQuesta pagina Ã¨ stata fatta con amore per una persona speciale! âœ¨","font-size: 14px; color: #F59E0B;");console.log("%cP.S. Il tonno in scatola Ã¨ ancora bandito anche qui ðŸš«","font-size: 12px; color: #EF4444;");magicBtn.addEventListener("click",()=>{const t=pickPhrase();animatePhrase(t),sweetLevel+=8+Math.floor(Math.random()*8),updateSweetMeter(),magicBtn.classList.add("pulse-once");const n=magicBtn.getBoundingClientRect(),e=document.createElement("img");e.src="/assets/cat.svg",e.alt="Gatto magico",e.className="magic-cat-effect",e.style.position="fixed",e.style.left=n.left+n.width/2-32+"px",e.style.top=n.top-48+"px",e.style.width="64px",e.style.height="64px",e.style.pointerEvents="none",document.body.appendChild(e),setTimeout(()=>{e.classList.add("jump"),setTimeout(()=>e.remove(),1200)},30),setTimeout(()=>magicBtn.classList.remove("pulse-once"),600),Math.random()<.16&&st()});randomBtn.addEventListener("click",()=>{const t=Math.random()<.6?pickPhrase():"Ti penso sempre ðŸ’­";animatePhrase(t),sweetLevel+=4,updateSweetMeter();const n=randomBtn.getBoundingClientRect(),e=document.createElement("img");e.src="/assets/mario.svg",e.alt="Mario Sorpresa",e.className="magic-mario-effect",e.style.position="fixed",e.style.left=n.left+n.width/2-48+"px",e.style.top=n.top-64+"px",e.style.width="96px",e.style.height="96px",e.style.pointerEvents="none",e.style.opacity="1",document.body.appendChild(e),setTimeout(()=>{e.classList.add("jump"),setTimeout(()=>e.remove(),1800)},30),phraseEl.classList.remove("opacity-0"),phraseEl.style.transition="opacity 0.7s",setTimeout(()=>{phraseEl.style.opacity=0},4e3),Math.random()<.22&&st()});colorBtn.addEventListener("click",()=>{const t=document.body,n=["bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-200 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-100 via-yellow-200 to-yellow-100","bg-gradient-to-b from-yellow-50 via-yellow-300 to-yellow-100","bg-gradient-to-b from-yellow-100 via-yellow-300 to-yellow-200","bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-200"];let e=n.findIndex(o=>t.className.includes(o.split(" ")[1]));e===-1&&(e=0);const a=(e+1)%n.length;t.className=n[a]+" text-slate-800"});emojiBtn.addEventListener("click",()=>{j("â­",4200,"4.5rem"),setTimeout(()=>{j("â¤ï¸",3200,"3.2rem",!0)},1200)});complimentBtn.addEventListener("click",()=>{animatePhrase("Sei incredibile, non dimenticarlo ðŸ’Œ"),sweetLevel+=6,updateSweetMeter(),phraseEl.classList.remove("opacity-0"),phraseEl.style.transition="opacity 0.7s",setTimeout(()=>{phraseEl.style.opacity=0},3200)});function j(t,n=2600,e="2.5rem",a=!1){const o=document.createElement("div");o.textContent=t,o.className="emoji-pop",o.style.fontSize=e,o.style.left=20+Math.random()*60+"%",o.style.bottom="20px",a?(o.style.opacity="0",o.animate([{opacity:0,transform:"translateY(0) scale(1.2)"},{opacity:1,transform:"translateY(-40px) scale(1.3)"},{opacity:0,transform:"translateY(-120px) scale(1.1)"}],{duration:n,easing:"ease-in-out"}),setTimeout(()=>o.remove(),n)):(document.body.appendChild(o),setTimeout(()=>o.remove(),n))}function st(){const t=blackCats[Math.floor(Math.random()*blackCats.length)];modalImg.src=t,modal.style.display="flex",modal.setAttribute("aria-hidden","false")}function z(){modal.style.display="none",modal.setAttribute("aria-hidden","true")}modal.addEventListener("click",t=>{t.target===modal&&z()});modalYes.addEventListener("click",()=>{animatePhrase("Scegli bene: i gatti vincono sempre ðŸ˜»"),sweetLevel+=5,updateSweetMeter(),z()});modalNo2&&modalNo2.addEventListener("click",()=>{animatePhrase("Eh giÃ ... la Mel ha la sua bellezza speciale ðŸ˜…"),z()});const f=document.getElementById("confetti-canvas"),d=f.getContext("2d");let F=[];function rt(){f.width=window.innerWidth,f.height=window.innerHeight}window.addEventListener("resize",rt);rt();confettiBtn.addEventListener("click",()=>{ct(80)});function ct(t=60){const n=["#FFD95A","#F7C248","#F6B200","#FFD6A6","#FFF3CC"];for(let e=0;e<t;e++)F.push({x:Math.random()*f.width,y:-10-Math.random()*200,size:6+Math.random()*8,speedX:-2+Math.random()*4,speedY:2+Math.random()*5,rotation:Math.random()*360,color:n[Math.floor(Math.random()*n.length)],tilt:Math.random()*20});D||dt()}let D=!1;function dt(){D=!0,d.clearRect(0,0,f.width,f.height),F.forEach((t,n)=>{t.x+=t.speedX,t.y+=t.speedY,t.rotation+=t.speedX,d.save(),d.translate(t.x,t.y),d.rotate(t.rotation*Math.PI/180),d.fillStyle=t.color,d.fillRect(-t.size/2,-t.size/2,t.size,t.size*.6),d.restore(),t.y>f.height+20&&F.splice(n,1)}),F.length>0?requestAnimationFrame(dt):D=!1}updateSweetMeter();magicBtn.addEventListener("keydown",t=>{t.key==="Enter"&&magicBtn.click()});window.addEventListener("load",()=>{animatePhrase("Benvenuta, Bea! Premi un pulsante ðŸ’›")});const P=document.getElementById("game-area"),s=document.getElementById("cat-sprite"),_=["/assets/cat.svg","/assets/yoshi.svg"],y=document.getElementById("game-start"),$=document.getElementById("game-reset"),N=document.getElementById("game-timer"),R=document.getElementById("game-score"),v=document.getElementById("game-best");let E=null,g=null,A=900;const G=20;let m=G,r=0;function H(t){return Number(t)||0}const ht=H(localStorage.getItem("bea_cat_best"));v&&(v.textContent=ht);function M(){if(!P||!s)return;const t=_[Math.floor(Math.random()*_.length)];s.src=t,s.alt=t.includes("yoshi")?"Yoshi":"Gatto realistico";const n=P.getBoundingClientRect(),e=s.offsetWidth||64,a=s.offsetHeight||64,o=8,i=Math.max(0,n.width-e-o),l=Math.max(0,n.height-a-o),w=Math.round(Math.random()*i)+o,T=Math.round(Math.random()*l)+o;s.style.left=w+"px",s.style.top=T+"px",s.style.transform=`scale(1) rotate(${Math.random()*20-10}deg)`}function pt(t){t.preventDefault(),E&&(r++,R.textContent=r,s.classList.add("cat-pop"),setTimeout(()=>s.classList.remove("cat-pop"),320),M(),A=Math.max(350,900-r*20),g&&clearInterval(g),g=setInterval(M,A),ct(14))}function yt(){!P||!s||(mt(),s.style.display="block",M(),y.disabled=!0,r=0,R.textContent=r,m=G,N.textContent=m,A=900,g=setInterval(M,A),E=setInterval(()=>{m--,N.textContent=m,m<=0&&vt()},1e3))}function vt(){clearInterval(E),clearInterval(g),g=null,E=null,s.style.display="none",y.disabled=!1;const t=H(localStorage.getItem("bea_cat_best"));r>t?(localStorage.setItem("bea_cat_best",r),v&&(v.textContent=r),animatePhrase(`Nuovo record: ${r} ðŸ˜»`)):animatePhrase(`Tempo! Hai fatto ${r} punti ðŸ’›`)}function mt(){clearInterval(E),clearInterval(g),s&&(s.style.display="none"),y&&(y.disabled=!1),r=0,R&&(R.textContent=0),m=G,N&&(N.textContent=m);const t=H(localStorage.getItem("bea_cat_best"));v&&(v.textContent=t)}y&&y.addEventListener("click",yt);$&&$.addEventListener("click",mt);s&&s.addEventListener("pointerdown",pt);window.addEventListener("orientationchange",()=>{E&&M()});
