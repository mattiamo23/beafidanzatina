(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const y of a.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function c(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=c(n);fetch(n.href,a)}})();const N=["Sei il mio raggio di sole â˜€ï¸","Con te ogni giorno Ã¨ una festa ðŸŽ‰","Bea, il tuo sorriso vale piÃ¹ di mille stelle âœ¨","Sei la mia canzone preferita ðŸŽ¶","Il mio posto felice Ã¨ accanto a te ðŸ’›","Ogni tuo messaggio Ã¨ un piccolo tesoro ðŸ’Œ","Sii sempre te stessa, sei perfetta cosÃ¬ ðŸŒ¼"],P=["https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=3d3b64f6c1f9cd5ef4b6d7a2fc4c9b66","https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7f69b3b5d131b8d5f9c4f6aaa30f2a9d","https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7a8f5c0d3e9d6b2be4d1f2f6d3a2b4c5"],M=document.getElementById("phrase"),b=document.getElementById("magic-btn"),D=document.getElementById("random-btn"),G=document.querySelector("#sweet-meter > div"),W=document.getElementById("color-btn"),X=document.getElementById("emoji-btn"),$=document.getElementById("confetti-btn"),K=document.getElementById("compliment-btn"),u=document.getElementById("modal"),J=document.getElementById("modal-img"),Q=document.getElementById("modal-yes");u.querySelector("button[aria-hidden]");const A=document.getElementById("modal-no");let E=40;function _(){return N[Math.floor(Math.random()*N.length)]}function r(e){M.classList.remove("opacity-0"),M.style.opacity=0,M.textContent=e,M.animate([{opacity:0,transform:"translateY(6px)"},{opacity:1,transform:"translateY(0)"}],{duration:360,easing:"ease-out"})}function I(){G.style.width=Math.min(100,E)+"%"}b.addEventListener("click",()=>{const e=_();r(e),E+=8+Math.floor(Math.random()*8),I(),b.classList.add("pulse-once"),setTimeout(()=>b.classList.remove("pulse-once"),600),Math.random()<.16&&q()});D.addEventListener("click",()=>{const e=Math.random()<.6?_():"Ti penso sempre ðŸ’­";r(e),E+=4,I(),Math.random()<.22&&q()});W.addEventListener("click",()=>{const e=document.body,t=["bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-50","bg-gradient-to-b from-pink-50 via-yellow-50 to-yellow-100","bg-gradient-to-b from-yellow-50 via-lime-50 to-yellow-50"],s=(t.indexOf(e.className.split(" ").slice(0,3).join(" "))+1)%t.length;e.className=t[s]+" text-slate-800"});X.addEventListener("click",()=>{const e=["ðŸ˜º","ðŸ’›","ðŸŒ¼","âœ¨","ðŸ˜˜"][Math.floor(Math.random()*5)];U(e)});K.addEventListener("click",()=>{r("Sei incredibile, non dimenticarlo ðŸ’Œ"),E+=6,I()});function U(e){const t=document.createElement("div");t.textContent=e,t.className="emoji-pop text-2xl",t.style.left=20+Math.random()*60+"%",t.style.bottom="20px",document.body.appendChild(t),setTimeout(()=>t.remove(),1500)}function q(){const e=P[Math.floor(Math.random()*P.length)];J.src=e,u.style.display="flex",u.setAttribute("aria-hidden","false")}function k(){u.style.display="none",u.setAttribute("aria-hidden","true")}u.addEventListener("click",e=>{e.target===u&&k()});Q.addEventListener("click",()=>{r("Scegli bene: i gatti vincono sempre ðŸ˜»"),E+=5,I(),k()});A&&A.addEventListener("click",()=>{r("Eh giÃ ... la Mel ha la sua bellezza speciale ðŸ˜…"),k()});const m=document.getElementById("confetti-canvas"),l=m.getContext("2d");let w=[];function R(){m.width=window.innerWidth,m.height=window.innerHeight}window.addEventListener("resize",R);R();$.addEventListener("click",()=>{T(80)});function T(e=60){const t=["#FFD95A","#F7C248","#F6B200","#FFD6A6","#FFF3CC"];for(let c=0;c<e;c++)w.push({x:Math.random()*m.width,y:-10-Math.random()*200,size:6+Math.random()*8,speedX:-2+Math.random()*4,speedY:2+Math.random()*5,rotation:Math.random()*360,color:t[Math.floor(Math.random()*t.length)],tilt:Math.random()*20});C||j()}let C=!1;function j(){C=!0,l.clearRect(0,0,m.width,m.height),w.forEach((e,t)=>{e.x+=e.speedX,e.y+=e.speedY,e.rotation+=e.speedX,l.save(),l.translate(e.x,e.y),l.rotate(e.rotation*Math.PI/180),l.fillStyle=e.color,l.fillRect(-e.size/2,-e.size/2,e.size,e.size*.6),l.restore(),e.y>m.height+20&&w.splice(t,1)}),w.length>0?requestAnimationFrame(j):C=!1}I();b.addEventListener("keydown",e=>{e.key==="Enter"&&b.click()});window.addEventListener("load",()=>{r("Benvenuta, Bea! Premi un pulsante ðŸ’›")});const S=document.getElementById("game-area"),o=document.getElementById("cat-sprite"),g=document.getElementById("game-start"),O=document.getElementById("game-reset"),x=document.getElementById("game-timer"),B=document.getElementById("game-score"),h=document.getElementById("game-best");let p=null,f=null,L=900;const F=20;let d=F,i=0;function z(e){return Number(e)||0}const V=z(localStorage.getItem("bea_cat_best"));h&&(h.textContent=V);function v(){if(!S||!o)return;const e=S.getBoundingClientRect(),t=o.offsetWidth||64,c=o.offsetHeight||64,s=8,n=Math.max(0,e.width-t-s),a=Math.max(0,e.height-c-s),y=Math.round(Math.random()*n)+s,Y=Math.round(Math.random()*a)+s;o.style.left=y+"px",o.style.top=Y+"px",o.style.transform=`scale(1) rotate(${Math.random()*20-10}deg)`}function Z(e){e.preventDefault(),p&&(i++,B.textContent=i,o.classList.add("cat-pop"),setTimeout(()=>o.classList.remove("cat-pop"),320),v(),L=Math.max(350,900-i*20),f&&clearInterval(f),f=setInterval(v,L),T(14))}function ee(){!S||!o||(H(),o.style.display="block",v(),g.disabled=!0,i=0,B.textContent=i,d=F,x.textContent=d,L=900,f=setInterval(v,L),p=setInterval(()=>{d--,x.textContent=d,d<=0&&te()},1e3))}function te(){clearInterval(p),clearInterval(f),f=null,p=null,o.style.display="none",g.disabled=!1;const e=z(localStorage.getItem("bea_cat_best"));i>e?(localStorage.setItem("bea_cat_best",i),h&&(h.textContent=i),r(`Nuovo record: ${i} ðŸ˜»`)):r(`Tempo! Hai fatto ${i} punti ðŸ’›`)}function H(){clearInterval(p),clearInterval(f),o&&(o.style.display="none"),g&&(g.disabled=!1),i=0,B&&(B.textContent=0),d=F,x&&(x.textContent=d);const e=z(localStorage.getItem("bea_cat_best"));h&&(h.textContent=e)}g&&g.addEventListener("click",ee);O&&O.addEventListener("click",H);o&&o.addEventListener("pointerdown",Z);window.addEventListener("orientationchange",()=>{p&&v()});
