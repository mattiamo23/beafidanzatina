(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&g(v)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();const T=["Sei il mio raggio di sole â˜€ï¸","Con te ogni giorno Ã¨ una festa ðŸŽ‰","Bea, il tuo sorriso vale piÃ¹ di mille stelle âœ¨","Sei la mia canzone preferita ðŸŽ¶","Il mio posto felice Ã¨ accanto a te ðŸ’›","Ogni tuo messaggio Ã¨ un piccolo tesoro ðŸ’Œ","Sii sempre te stessa, sei perfetta cosÃ¬ ðŸŒ¼"],z=["https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=3d3b64f6c1f9cd5ef4b6d7a2fc4c9b66","https://images.unsplash.com/photo-1543852786-1cf6624b9987?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7f69b3b5d131b8d5f9c4f6aaa30f2a9d","https://images.unsplash.com/photo-1517423440428-a5a00ad493e8?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=7a8f5c0d3e9d6b2be4d1f2f6d3a2b4c5"],l=document.getElementById("phrase"),y=document.getElementById("magic-btn"),W=document.getElementById("random-btn"),X=document.querySelector("#sweet-meter > div"),$=document.getElementById("color-btn"),K=document.getElementById("emoji-btn"),J=document.getElementById("confetti-btn"),Q=document.getElementById("compliment-btn"),u=document.getElementById("modal"),U=document.getElementById("modal-img"),V=document.getElementById("modal-yes");u.querySelector("button[aria-hidden]");const P=document.getElementById("modal-no");let E=40;function _(){return T[Math.floor(Math.random()*T.length)]}function r(e){l.classList.remove("opacity-0"),l.style.opacity=0,l.textContent=e,l.animate([{opacity:0,transform:"translateY(6px)"},{opacity:1,transform:"translateY(0)"}],{duration:360,easing:"ease-out"})}function x(){X.style.width=Math.min(100,E)+"%"}y.addEventListener("click",()=>{const e=_();r(e),E+=8+Math.floor(Math.random()*8),x(),y.classList.add("pulse-once");const n=y.getBoundingClientRect(),t=document.createElement("img");t.src="/assets/cat-real.svg",t.alt="Gatto magico",t.className="magic-cat-effect",t.style.position="fixed",t.style.left=n.left+n.width/2-32+"px",t.style.top=n.top-48+"px",t.style.width="64px",t.style.height="64px",t.style.pointerEvents="none",document.body.appendChild(t),setTimeout(()=>{t.classList.add("jump"),setTimeout(()=>t.remove(),1200)},30),setTimeout(()=>y.classList.remove("pulse-once"),600),Math.random()<.16&&q()});W.addEventListener("click",()=>{const e=Math.random()<.6?_():"Ti penso sempre ðŸ’­";r(e),E+=4,x(),l.classList.remove("opacity-0"),l.style.transition="opacity 0.7s",setTimeout(()=>{l.style.opacity=0},3200),Math.random()<.22&&q()});$.addEventListener("click",()=>{const e=document.body,n=["bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-200 via-yellow-100 to-yellow-50","bg-gradient-to-b from-yellow-100 via-yellow-200 to-yellow-100","bg-gradient-to-b from-yellow-50 via-yellow-300 to-yellow-100","bg-gradient-to-b from-yellow-100 via-yellow-300 to-yellow-200","bg-gradient-to-b from-yellow-50 via-yellow-100 to-yellow-200"];let t=n.findIndex(o=>e.className.includes(o.split(" ")[1]));t===-1&&(t=0);const g=(t+1)%n.length;e.className=n[g]+" text-slate-800"});K.addEventListener("click",()=>{Z("â­",2600)});Q.addEventListener("click",()=>{r("Sei incredibile, non dimenticarlo ðŸ’Œ"),E+=6,x(),l.classList.remove("opacity-0"),l.style.transition="opacity 0.7s",setTimeout(()=>{l.style.opacity=0},3200)});function Z(e,n=2600){const t=document.createElement("div");t.textContent=e,t.className="emoji-pop text-2xl",t.style.left=20+Math.random()*60+"%",t.style.bottom="20px",document.body.appendChild(t),setTimeout(()=>t.remove(),n)}function q(){const e=z[Math.floor(Math.random()*z.length)];U.src=e,u.style.display="flex",u.setAttribute("aria-hidden","false")}function k(){u.style.display="none",u.setAttribute("aria-hidden","true")}u.addEventListener("click",e=>{e.target===u&&k()});V.addEventListener("click",()=>{r("Scegli bene: i gatti vincono sempre ðŸ˜»"),E+=5,x(),k()});P&&P.addEventListener("click",()=>{r("Eh giÃ ... la Mel ha la sua bellezza speciale ðŸ˜…"),k()});const m=document.getElementById("confetti-canvas"),c=m.getContext("2d");let I=[];function O(){m.width=window.innerWidth,m.height=window.innerHeight}window.addEventListener("resize",O);O();J.addEventListener("click",()=>{Y(80)});function Y(e=60){const n=["#FFD95A","#F7C248","#F6B200","#FFD6A6","#FFF3CC"];for(let t=0;t<e;t++)I.push({x:Math.random()*m.width,y:-10-Math.random()*200,size:6+Math.random()*8,speedX:-2+Math.random()*4,speedY:2+Math.random()*5,rotation:Math.random()*360,color:n[Math.floor(Math.random()*n.length)],tilt:Math.random()*20});C||j()}let C=!1;function j(){C=!0,c.clearRect(0,0,m.width,m.height),I.forEach((e,n)=>{e.x+=e.speedX,e.y+=e.speedY,e.rotation+=e.speedX,c.save(),c.translate(e.x,e.y),c.rotate(e.rotation*Math.PI/180),c.fillStyle=e.color,c.fillRect(-e.size/2,-e.size/2,e.size,e.size*.6),c.restore(),e.y>m.height+20&&I.splice(n,1)}),I.length>0?requestAnimationFrame(j):C=!1}x();y.addEventListener("keydown",e=>{e.key==="Enter"&&y.click()});window.addEventListener("load",()=>{r("Benvenuta, Bea! Premi un pulsante ðŸ’›")});const S=document.getElementById("game-area"),a=document.getElementById("cat-sprite"),A=["/assets/cat-real.svg","/assets/yoshi.svg"],p=document.getElementById("game-start"),R=document.getElementById("game-reset"),M=document.getElementById("game-timer"),B=document.getElementById("game-score"),h=document.getElementById("game-best");let b=null,f=null,L=900;const F=20;let d=F,i=0;function N(e){return Number(e)||0}const ee=N(localStorage.getItem("bea_cat_best"));h&&(h.textContent=ee);function w(){if(!S||!a)return;const e=A[Math.floor(Math.random()*A.length)];a.src=e,a.alt=e.includes("yoshi")?"Yoshi":"Gatto realistico";const n=S.getBoundingClientRect(),t=a.offsetWidth||64,g=a.offsetHeight||64,o=8,s=Math.max(0,n.width-t-o),v=Math.max(0,n.height-g-o),H=Math.round(Math.random()*s)+o,D=Math.round(Math.random()*v)+o;a.style.left=H+"px",a.style.top=D+"px",a.style.transform=`scale(1) rotate(${Math.random()*20-10}deg)`}function te(e){e.preventDefault(),b&&(i++,B.textContent=i,a.classList.add("cat-pop"),setTimeout(()=>a.classList.remove("cat-pop"),320),w(),L=Math.max(350,900-i*20),f&&clearInterval(f),f=setInterval(w,L),Y(14))}function oe(){!S||!a||(G(),a.style.display="block",w(),p.disabled=!0,i=0,B.textContent=i,d=F,M.textContent=d,L=900,f=setInterval(w,L),b=setInterval(()=>{d--,M.textContent=d,d<=0&&ne()},1e3))}function ne(){clearInterval(b),clearInterval(f),f=null,b=null,a.style.display="none",p.disabled=!1;const e=N(localStorage.getItem("bea_cat_best"));i>e?(localStorage.setItem("bea_cat_best",i),h&&(h.textContent=i),r(`Nuovo record: ${i} ðŸ˜»`)):r(`Tempo! Hai fatto ${i} punti ðŸ’›`)}function G(){clearInterval(b),clearInterval(f),a&&(a.style.display="none"),p&&(p.disabled=!1),i=0,B&&(B.textContent=0),d=F,M&&(M.textContent=d);const e=N(localStorage.getItem("bea_cat_best"));h&&(h.textContent=e)}p&&p.addEventListener("click",oe);R&&R.addEventListener("click",G);a&&a.addEventListener("pointerdown",te);window.addEventListener("orientationchange",()=>{b&&w()});
